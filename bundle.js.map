{"version":3,"sources":["webpack:///webpack/bootstrap 3e77132549ca66341928","webpack:///./src/components/cursor.js","webpack:///./src/components/floortiles.js","webpack:///./src/components/target.js","webpack:///./src/components/texthandler.js","webpack:///./src/components/water.js","webpack:///./src/main.js","webpack:///./src/shaders/passraw.vert.glsl","webpack:///./src/shaders/tiles.frag.glsl","webpack:///./src/shaders/water.frag.glsl","webpack:///./src/shaders/water.vert.glsl"],"names":["vertexShader","fragmentShader","INCREMENT_SPEED","DECREMENT_SPEED","AFRAME","registerComponent","init","progress","value","geometry","THREE","PlaneBufferGeometry","material","ShaderMaterial","defines","PI","TWO_PI","uniforms","active","type","transparent","side","FrontSide","cursorMesh","Mesh","el","object3D","add","tween","TWEEN","Tween","addEventListener","e","detail","intersectedEl","getAttribute","stop","to","onUpdate","start","children","DoubleSide","schema","level","textId","evt","waterEl","document","getElementById","components","water","setLevel","target","data","textEl","obj","opacity","sceneEl","emit","setAttribute","self","hide","bind","normalTex","ImageLoader","load","minFilter","NearestFilter","magFilter","ImageUtils","loadTexture","time","height","waterNormal","mesh","newLevel","onComplete","tick","t","require"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3e77132549ca66341928","const vertexShader = `\n  precision mediump float;\n\n  varying vec2 vUv;\n\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  }\n`;\n\nconst fragmentShader = `\n  precision mediump float;\n\n  varying vec2 vUv;\n  uniform float active;\n  uniform float progress;\n\n  void main() {\n    vec2 st = vUv * 2.0 - 1.0;\n\n    float pA = TWO_PI / 100.0 * progress;\n\n    vec4 baseColor = vec4(0.75, 0.75, 0.75, 1.0); //* (1.0 - active) + vec4(0.55, 0.25, 0.75, 1.0) * active;\n    vec4 progressColor = vec4(0.85, 0.85, 0.85, 1.0);\n    vec4 color = vec4(0.0);\n\n    color += baseColor * (1.0 - smoothstep(0.25, 0.45, distance(st, vec2(0.0))));\n\n    float a = abs(atan(st.y,st.x) - PI);\n    float smoothDist;\n    if(a < pA) {\n      smoothDist = smoothstep(0.45, 0.65, distance(st, vec2(0.0)));\n      color = max(progressColor * (1.0 - smoothDist), color);\n    }\n\n    gl_FragColor = color;\n  }\n`;\n\nconst INCREMENT_SPEED = 1.0;\nconst DECREMENT_SPEED = 5.0;\n\nAFRAME.registerComponent('custom-cursor', {\n  init: function () {\n    this.progress = {value: 0};\n\n    this.geometry = new THREE.PlaneBufferGeometry( 0.005, 0.005, 1, 1 );\n    this.material = new THREE.ShaderMaterial( {\n      fragmentShader,\n      vertexShader,\n      defines: {\n        PI: 3.1415926536,\n        TWO_PI: 6.2831853072\n      },\n      uniforms: {\n        active: { type: 'f', value: 0.0 },\n        progress: { type: 'f', value: 0.0 }\n      },\n      transparent: true,\n      side: THREE.FrontSide\n    } );\n    \n    let cursorMesh = new THREE.Mesh( this.geometry, this.material );\n    this.el.object3D.add(cursorMesh);\n\n    this.tween = new AFRAME.TWEEN.Tween(this.progress);\n\n    this.el.addEventListener('mouseleave', e => {\n      if(e.detail.intersectedEl.getAttribute('classname') != 'target') {\n        return;\n      }\n      this.progress.value = 0;\n      this.material.uniforms.progress.value = this.progress.value;\n      this.tween.stop();\n    });\n\n    this.el.addEventListener('mouseenter', e => {\n      if(e.detail.intersectedEl.getAttribute('classname') != 'target') {\n        return;\n      }\n      this.tween.to({value: 100.0}, 500)\n      .onUpdate(() => {\n        this.material.uniforms.progress.value = this.progress.value;\n      })\n      .start();\n    });\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/cursor.js","import fragmentShader from '../shaders/tiles.frag.glsl';\nimport vertexShader from '../shaders/passraw.vert.glsl';\n\nAFRAME.registerComponent('floor-tiles', {\n  init: function () {\n    this.el.object3D.children[0].material = new THREE.ShaderMaterial({\n      fragmentShader,\n      vertexShader,\n      side: THREE.DoubleSide,\n      transparent: false\n    });\n  }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/floortiles.js","AFRAME.registerComponent('target', {\n  schema: {\n    level: {type: 'number'},\n    textId: {type: 'string'}\n  },\n  init: function () {\n    this.el.addEventListener('click', function (evt) {\n      let waterEl = document.getElementById('water');\n      let level = this.getAttribute('target').level;\n\n      waterEl.components.water.setLevel(level);\n\n      let {textId} = this.components.target.data;\n      let textEl = document.getElementById(textId);\n      \n\n      let obj = {opacity: 0.0};\n\n      this.sceneEl.emit('text-hide-all', {}, false);\n\n      let tween = new AFRAME.TWEEN.Tween(obj)\n          .to({opacity: 1.0}, 700)\n          .onUpdate(() => {\n            textEl.setAttribute('text', obj);\n          })\n          .start();\n\n    });\n  }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/target.js","AFRAME.registerComponent('text-auto-hide', {\n  init: function () {\n    var self = this.el;\n\n    let hide = function() {\n      this.setAttribute('text', {opacity: 0.0});\n    };\n\n    hide = hide.bind(this.el);\n\n    this.el.sceneEl.addEventListener('text-hide-all', hide)\n  }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/texthandler.js","import vertexShader from '../shaders/water.vert.glsl';\nimport fragmentShader from '../shaders/water.frag.glsl';\n\nAFRAME.registerComponent('water', {\n  init: function () {\n    this.level = -0.5;\n    this.geometry = new THREE.PlaneBufferGeometry( 3, 3, 18, 18 );\n\n\n    // debugger;\n\n    let normalTex = new THREE.ImageLoader().load('/assets/water.jpg');\n    normalTex.minFilter = THREE.NearestFilter;\n    normalTex.magFilter = THREE.NearestFilter;\n    normalTex = THREE.ImageUtils.loadTexture('/assets/water.jpg');\n\n    this.material = new THREE.ShaderMaterial( {\n      fragmentShader,\n      vertexShader,\n      defines: {\n        PI: 3.1415926536,\n        TWO_PI: 6.2831853072\n      },\n      uniforms: {\n        time: { type: 'f', value: 0.0 },\n        height: { type: 'f', value: this.level },\n        waterNormal: { type: 't', value: normalTex }\n      },\n      transparent: true,\n      side: THREE.FrontSide\n    } );\n\n    let mesh = new THREE.Mesh(this.geometry, this.material);\n\n    this.el.object3D.add(mesh);\n  },\n  setLevel: function(newLevel) {\n    // this.level = level;\n    let obj = {level: this.level};\n\n    let tween = new AFRAME.TWEEN.Tween(obj)\n        .to({level: newLevel}, 500)\n        .onUpdate(() => {\n          this.material.uniforms.height.value = obj.level;\n        })\n        .onComplete(() => {\n          this.level = newLevel;\n        })\n        .start();\n  },\n  tick: function(t) {\n    this.material.uniforms.time.value = t * 0.001;\n  }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/water.js","require('./components/target');\nrequire('./components/cursor');\nrequire('./components/water');\nrequire('./components/floortiles');\nrequire('./components/texthandler');\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"precision mediump float;\\n\\nvarying vec2 vUv;\\nvarying vec3 vPos;\\nvarying vec3 vNormal;\\n\\n// attribute mat4 projectionMatrix;\\n// attribute mat4 modelViewMatrix;\\n// attribute vec3 position;\\n// attribute vec3 normal;\\n// attribute vec2 uv;\\n\\nvoid main() {\\n  vUv = uv;\\n  vPos = position;\\n  vNormal = normal;\\n  \\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/passraw.vert.glsl\n// module id = 6\n// module chunks = 0","module.exports = \"precision mediump float;\\n\\nvarying vec3 vPos;\\nvarying vec2 vUv;\\n\\nvoid main() {\\n  vec3 color = vec3(vUv.x, vUv.y, 0.75);\\n\\n  vec2 st = vUv * 20.0;\\n  st = floor(st);\\n\\n  if(mod(st.x + st.y, 2.0) == 0.0) {\\n    color = vec3(0.9);\\n  } else {\\n    color = vec3(0.25);\\n  }\\n\\n  gl_FragColor = vec4(color, 1.0); \\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/tiles.frag.glsl\n// module id = 7\n// module chunks = 0","module.exports = \"precision mediump float;\\n\\nvarying vec3 vPos;\\nvarying vec2 vUv;\\nvarying vec3 vNormal;\\n\\nuniform sampler2D waterNormal;\\nuniform float time;\\n\\nvoid main() {\\n  vec3 color = vec3(0.1, 0.1, 0.75);\\n  float l = 0.25 * max(0.0, dot(vNormal, vec3(0.8, 0.7, 0.35)));\\n\\n  gl_FragColor = vec4(color, 0.35); \\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/water.frag.glsl\n// module id = 8\n// module chunks = 0","module.exports = \"precision mediump float;\\n\\nvarying vec2 vUv;\\nvarying vec3 vPos;\\nvarying vec3 vNormal;\\n\\nuniform float time;\\nuniform float height;\\n\\n\\nvec3 mod289(vec3 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec2 mod289(vec2 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec3 permute(vec3 x) {\\n  return mod289(((x*34.0)+1.0)*x);\\n}\\n\\nfloat snoise(vec2 v) {\\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\\n                      0.024390243902439); // 1.0 / 41.0\\n  // First corner\\n  vec2 i  = floor(v + dot(v, C.yy) );\\n  vec2 x0 = v -   i + dot(i, C.xx);\\n\\n  // Other corners\\n  vec2 i1;\\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\\n  //i1.y = 1.0 - i1.x;\\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\\n  // x1 = x0 - i1 + 1.0 * C.xx ;\\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\\n  vec4 x12 = x0.xyxy + C.xxzz;\\n  x12.xy -= i1;\\n\\n  // Permutations\\n  i = mod289(i); // Avoid truncation effects in permutation\\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\\n    + i.x + vec3(0.0, i1.x, 1.0 ));\\n\\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\\n  m = m*m ;\\n  m = m*m ;\\n\\n  // Gradients: 41 points uniformly over a line, mapped onto a diamond.\\n  // The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\\n\\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\\n  vec3 h = abs(x) - 0.5;\\n  vec3 ox = floor(x + 0.5);\\n  vec3 a0 = x - ox;\\n\\n  // Normalise gradients implicitly by scaling m\\n  // Approximation of: m *= inversesqrt( a0*a0 + h*h );\\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\\n\\n  // Compute final noise value at P\\n  vec3 g;\\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\\n  return 130.0 * dot(m, g);\\n}\\n\\n\\nvoid main() {\\n  vUv = uv;\\n  vPos = position;\\n  \\n  float s_time = time / 10.0;\\n\\n  float noise_current = snoise(uv + s_time);\\n  float noise_next = snoise(uv + vec2(0.05) + s_time)\\n\\n  vNormal = normal;//vec3();\\n  vec3 pos = position + normal * 0.25 * abs(vec3(noise_current)) + vec3(0.0, 0.0, height);\\n  \\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/water.vert.glsl\n// module id = 9\n// module chunks = 0"],"sourceRoot":""}